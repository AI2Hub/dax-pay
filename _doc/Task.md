## 单商户
2.0.4: 分账初版
- [x] 支付通道配置是否支持分账
- [x] 分账接收方管理
  - [x] 管理
  - [x] 同步
- [x] 分账组管理
  - [x] 管理
  - [x] 绑定
  - [x] 默认分账组
- [x] 分账订单管理
  - [x] 订单创建
  - [x] 发起分账
  - [x] 分账完结
- [x] 分账处理
  - [x] 发起分账
  - [x] 分账同步
- [x] 修复创建支付订单报错时, 订单保存数据不完整
- [x] 收银台演示支持传输分账标识
- [x] SDK支持分账接口

2.0.6: 去除组合支付, 一系列代码优化
- [ ] 去除组合支付和场景，降低逻辑的的复杂度
  - [ ] 退款场景
  - [ ] 关闭支付订单
  - [ ] 同步操作时
  - [ ] 订单修复
  - [ ] 支付和退款回调
  - [ ] 去除现金支付和储值卡支付方式
- [ ] 三方支付外部订单号规则优化: 支付P、退款R、分账A，根据环境加前缀：DEV_、DEMO_、PRE_
- [ ] 资金流水优化(去除)
- [ ] 金额显示统一使用元

2.0.7: 分账完善
- [ ] 支持分账组分账和自己传接收方进行分账
- [ ] DEMO增加获取微信OpenID和支付宝OpenId功能
- [ ] 分账接收方管理提供接口调用
- [ ] 分账情况查询, 分账结果/剩余可分账金额
- [ ] 分账回调处理
- [ ] 分账组管理提供接口调用
- [ ] 分账通知

2.0.x 版本内容
- [ ] 对账回退及退款
- [ ] 统计报表功能
- [ ] 微信新增V3版本接口
      - [ ] 付款码支付自动路由到V2接口
- [ ] 增加各类日志记录,例如钱包的各项操作
- [ ] 增加撤销功能，用于处理线下支付订单的情况
- [ ] 数据库表进行规则, 字段设置长度, 增加索引
- [ ] 订单超时支持数据表级别触发
- [ ] 针对同步/对账等出现脏数据导致阻塞的问题, 进行优化
    - [ ] 同步接口
    - [ ] 对账接口
- [ ] 增加通道开通能力管理，在操作发起前的校验时提前进行拦截
- [ ] 支付通道两个独立的配置进行合并为一个
    
**任务池**
- [ ] 对账改造: 
  - [ ] 分为三级: 原始对账单(三方机构原始凭证)、系统对账单(系统内部订单信息)、差异单,
  - [ ] 单据类型: 明细记录, 汇总记录
- [ ] 支持转账操作, 通过支付通道专有参数进行实现, 转账时只能单个通道进行操作
- [ ] 支付成功回调后, 如果订单已超时, 则进入待退款订单中，提示进行退款，或者自动退款
- [ ] 新增支付单预警功能, 处理支付单与网关状态不一致且无法自动修复的情况
- [ ] 通道费率计算
- [ ] 每日资金流水计算
- [ ] 微信消息通知相关配置
- [ ] 钉钉消息通知配置
- [ ] 支付宝接口升级为V3接口
- [ ] 增加验签调试等功能的页面
- [ ] 请求IP参数增加正则校验
- [ ] 增加账户金额表, 记录每天每个通道的账户金额, 并且提供查询接口
